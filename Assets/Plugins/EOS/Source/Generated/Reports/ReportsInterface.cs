// Copyright Epic Games, Inc. All Rights Reserved.
// This file is automatically generated. Changes to this file may be overwritten.

namespace Epic.OnlineServices.Reports
{
	public sealed partial class ReportsInterface : Handle
	{
		public ReportsInterface()
		{
		}

		public ReportsInterface(System.IntPtr innerHandle) : base(innerHandle)
		{
		}

		/// <summary>
		/// Max length of a report description text, not including the terminating null.
		/// </summary>
		public const int ReportdescriptionMaxLength = 512;

		/// <summary>
		/// The most recent version of the <see cref="SendPlayerBehaviorReport" /> API.
		/// </summary>
		public const int SendplayerbehaviorreportApiLatest = 1;

		/// <summary>
		/// Sends the provided report directly to the Epic Online Services back-end.
		/// </summary>
		/// <param name="options">Structure containing the player report information.</param>
		/// <param name="clientData">Optional client data provided by the user of the SDK.</param>
		/// <param name="completionDelegate">This function is called when the send operation completes.</param>
		public void SendPlayerBehaviorReport(SendPlayerBehaviorReportOptions options, object clientData, OnSendPlayerBehaviorReportCompleteCallback completionDelegate)
		{
			System.IntPtr optionsAddress = new System.IntPtr();
			Helper.TryMarshalSet<SendPlayerBehaviorReportOptionsInternal, SendPlayerBehaviorReportOptions>(ref optionsAddress, options);

			var clientDataAddress = System.IntPtr.Zero;

			var completionDelegateInternal = new OnSendPlayerBehaviorReportCompleteCallbackInternal(OnSendPlayerBehaviorReportCompleteCallbackInternalImplementation);
			Helper.AddCallback(ref clientDataAddress, clientData, completionDelegate, completionDelegateInternal);

			EOS_Reports_SendPlayerBehaviorReport(InnerHandle, optionsAddress, clientDataAddress, completionDelegateInternal);

			Helper.TryMarshalDispose(ref optionsAddress);
		}

		[MonoPInvokeCallback(typeof(OnSendPlayerBehaviorReportCompleteCallbackInternal))]
		internal static void OnSendPlayerBehaviorReportCompleteCallbackInternalImplementation(System.IntPtr data)
		{
			OnSendPlayerBehaviorReportCompleteCallback callback;
			SendPlayerBehaviorReportCompleteCallbackInfo callbackInfo;
			if (Helper.TryGetAndRemoveCallback<OnSendPlayerBehaviorReportCompleteCallback, SendPlayerBehaviorReportCompleteCallbackInfoInternal, SendPlayerBehaviorReportCompleteCallbackInfo>(data, out callback, out callbackInfo))
			{
				callback(callbackInfo);
			}
		}

		[System.Runtime.InteropServices.DllImport(Config.BinaryName)]
		internal static extern void EOS_Reports_SendPlayerBehaviorReport(System.IntPtr handle, System.IntPtr options, System.IntPtr clientData, OnSendPlayerBehaviorReportCompleteCallbackInternal completionDelegate);
	}
}